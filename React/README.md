# React

## ðŸ¤” ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” JSX ë¬¸ë²•ì€ ìˆœìˆ˜ ìžë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì•„ë‹Œë° ë¸Œë¼ìš°ì €ì—ì„œ ì–´ë–»ê²Œ ë™ìž‘í•  ìˆ˜ ìžˆëŠ” ê±¸ê¹Œìš”?

> ìš°ì„  JSXëŠ” í•„ìˆ˜ì¼ê¹Œìš”?

Reactì—ì„œ JSXëŠ” í•„ìˆ˜ê°€ ì•„ë‹™ë‹ˆë‹¤. ë¹Œë“œ í™˜ê²½ì—ì„œ ì»´íŒŒì¼ ì„¤ì • (ì›¹íŒ©, ë°”ë²¨)ì´ ê·€ì°®ê±°ë‚˜ í•˜ê¸° ì‹«ì„ ë•ŒëŠ” JSX ì—†ì´ ê·¸ëƒ¥ Reactë¡œ ì½”ë”©ì„ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```js
// JSXë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì˜ˆì‹œìž…ë‹ˆë‹¤.
class Hello extends React.Component {
  render() {
    return React.createElement('div', null, `Hello ${this.props.toWhat}`);
  }
}

ReactDOM.render(
  React.createElement(Hello, {toWhat: 'World'}, null),
  document.getElementById('root')
);
```

`JSX` ë¬¸ë²•ì€ ìš°ë¦¬ê°€ ìžë°”ìŠ¤í¬ë¦½íŠ¸ì•ˆì— ë§ˆí¬ì—… ì½”ë“œë¥¼ ë„£ì„ ìˆ˜ ìžˆê²Œ í•´ì¤ë‹ˆë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ ì½”ë“œëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ê·¸ëŒ€ë¡œ ë™ìž‘í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ê°€ ì´í•´í•  ìˆ˜ ìžˆëŠ” ì½”ë“œë¡œ ë³€ê²½ ì‹œì¼œì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

`babel`ì€ ìµœì‹  ë¬¸ë²•ì„ ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ ë™ìž‘í•  ìˆ˜ ìžˆëŠ” ì˜ˆì „ ì½”ë“œë¡œ ë˜ëŒë¦¬ê±°ë‚˜, í‘œì¤€ì—ì„œ ë²—ì–´ë‚œ ì½”ë“œë¥¼ ë¸Œë¼ìš°ì €ê°€ ì´í•´í•  ìˆ˜ ìžˆëŠ” ì½”ë“œë¡œ ë³€í™˜í•´ì£¼ëŠ” íŠ¸ëžœìŠ¤íŒŒì¼ëŸ¬ìž…ë‹ˆë‹¤.

`JSX` ë¬¸ë²•ì€ `babel`ì„ í†µí•´ì„œ ë¸Œë¼ìš°ì €ê°€ ì´í•´í•  ìˆ˜ ìžˆëŠ” ì½”ë“œë¡œ ë³€ê²½ë©ë‹ˆë‹¤. Reactì˜ `createElement` ë©”ì„œë“œë¥¼ í†µí•´ì„œ DOM elementë¥¼ ë§Œë“¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

> ì°¸ê³ 

- [JSX ì—†ì´ ì‚¬ìš©í•˜ëŠ” React](https://ko.reactjs.org/docs/react-without-jsx.html)

## ðŸ¤” ë¦¬ì•¡íŠ¸ì—ì„œ ë°°ì—´ì— `key` ì†ì„±ì€ ì™œ í•„ìš”í• ê¹Œìš”?

```js
array.map(item => <Item key={item.key} />);
```

ìš°ë¦¬ê°€ ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ ë°°ì—´ì„ ì¶œë ¥í•  ë•Œ `map` ë©”ì„œë“œë¥¼ í†µí•´ì„œ ì¶œë ¥ì„ ë§Žì´í•©ë‹ˆë‹¤.
ê·¸ ë•Œ `key` ì†ì„±ì„ ë„£ì–´ì£¼ì§€ ì•Šìœ¼ë©´ ê²½ê³ ì°½ì´ ëœ¨ê²Œ ë©ë‹ˆë‹¤.

![key error](./images/key_error.png)

> í•´ë‹¹ `key` í”„ë¡œí¼í‹°ëŠ” ë¦¬ì•¡íŠ¸ì—ì„œ ì œê³µí•´ì£¼ëŠ” ì†ì„±ìž…ë‹ˆë‹¤.
> ReactëŠ” `key`ë¥¼ í†µí•´ ê¸°ì¡´ íŠ¸ë¦¬ì™€ ì´í›„ íŠ¸ë¦¬ì˜ ìžì‹ë“¤ì´ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

> KeyëŠ” Reactê°€ ì–´ë–¤ í•­ëª©ì„ ë³€ê²½, ì¶”ê°€ ë˜ëŠ” ì‚­ì œí• ì§€ ì‹ë³„í•˜ëŠ” ê²ƒì„ ë•ìŠµë‹ˆë‹¤. keyëŠ” ì—˜ë¦¬ë¨¼íŠ¸ì— ì•ˆì •ì ì¸ ê³ ìœ ì„±ì„ ë¶€ì—¬í•˜ê¸° ìœ„í•´ ë°°ì—´ ë‚´ë¶€ì˜ ì—˜ë¦¬ë¨¼íŠ¸ì— ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ ê³µì‹ë¬¸ì„œì—ì„œëŠ” ìœ„ì™€ ê°™ì´ ì„¤ëª…í•˜ê³  ìžˆìŠµë‹ˆë‹¤.
ë§ ê·¸ëŒ€ë¡œ ë¦¬ìŠ¤íŠ¸ë‚˜ ì–´ë–¤ ë‚˜ì—´ë˜ì–´ ìžˆëŠ” ì•„ì´í…œë“¤ì˜ ì¶”ê°€, ì‚­ì œì™€ ê°™ì€ ë³€ê²½ ì„±ëŠ¥ì„ ì¡°ê¸ˆ ë” ì¢‹ê²Œ í•´ì¤ë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œëŠ” í•´ë‹¹ ì„±ëŠ¥ ê°œì„ ì„ `key`ë¥¼ í†µí•´ì„œ í•˜ê³  ìžˆì£ .

ë§Œì•½ì— ë¦¬ìŠ¤íŠ¸ê°€ ë³€ê²½ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ìƒê´€ì—†ì§€ë§Œ, ì‚­ì œ, ì¶”ê°€ì™€ ê°™ì€ ë³€ê²½ì‚¬í•­ì´ ë§Žì€ ë¦¬ìŠ¤íŠ¸ë¼ë©´ ì¸ë±ìŠ¤ë¥¼ `key`ë¡œ ë¶€ì—¬í•˜ëŠ” ê²ƒì€ í”¼í•˜ì„¸ìš”.

ì´ìœ ëŠ” ë¦¬ì•¡íŠ¸ëŠ” `key`ë¥¼ `DOM`ì„ ì‹ë³„í•˜ëŠ” í‚¤ë¡œ ì‚¬ìš©í•˜ê³  ìžˆì§€ë§Œ, ë¦¬ìŠ¤íŠ¸ì˜ ì¸ë±ìŠ¤ë¥¼ `key`ì— ë„£ìœ¼ë©´ ë³€ê²½ì´ë‚˜ ì‚­ì œê°€ ë  ë•Œ ë¦¬ì•¡íŠ¸ê°€ ê¸°ëŒ€í•˜ëŠ” `key` ê°’ì˜ ìš”ì†Œê°€ ë³€ê²½ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ì œê°€ ì°¸ê³ ë¡œ ì˜¬ë ¤ë“œë¦° ë§í¬ì—ì„œëŠ” ì„¸ ê°€ì§€ ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ `key`ë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•´ë„ ê´œì°®ë‹¤ê³  í•©ë‹ˆë‹¤.

1. ë¦¬ìŠ¤íŠ¸ì™€ ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œë“¤ì€ ì •ì ì´ê³ , ì ˆëŒ€ ë³€í•˜ì§€ ì•Šì„ ë•Œ
2. ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œì— ê³ ìœ í•œ `id` ê°’ì´ ì—†ì„ ë•Œ
3. ë¦¬ìŠ¤íŠ¸ê°€ ìž¬ì¡°ì •ë˜ê±°ë‚˜ í•„í„°ë§ë˜ì§€ ì•Šì„ ë•Œ

ì´ëŸ° ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ [nanoid](https://github.com/ai/nanoid/) ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ì„œ ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œì˜ ê³ ìœ í•œ ì•„ì´ë””ë¥¼ ë§Œë“¤ì–´ `key` ê°’ìœ¼ë¡œ ë¶€ì—¬í•˜ê¸¸ ê¶Œìž¥í•˜ê³  ìžˆìŠµë‹ˆë‹¤.

> ì°¸ê³ 

- [React keys](https://ko.reactjs.org/docs/reconciliation.html#keys)
- [React list key](https://ko.reactjs.org/docs/lists-and-keys.html#keys)
- [Index as a key is an anti-pattern](https://robinpokorny.medium.com/index-as-a-key-is-an-anti-pattern-e0349aece318)
